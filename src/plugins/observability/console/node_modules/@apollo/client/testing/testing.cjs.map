{"version":3,"file":"testing.cjs","sources":["../utilities/deprecation/index.js","react/MockedProvider.js"],"sourcesContent":["import { __spreadArray } from \"tslib\";\nimport { Slot } from \"optimism\";\nimport { invariant, global as untypedGlobal } from \"../globals/index.js\";\nvar muteAllDeprecations = Symbol.for(\"apollo.deprecations\");\nvar global = untypedGlobal;\nvar slot = new Slot();\nfunction isMuted(name) {\n    return global[muteAllDeprecations] || (slot.getValue() || []).includes(name);\n}\nexport function muteDeprecations(name) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return slot.withValue.apply(slot, __spreadArray([Array.isArray(name) ? name : [name]], args, false));\n}\nexport function warnRemovedOption(options, name, callSite, recommendation) {\n    if (recommendation === void 0) { recommendation = \"Please remove this option.\"; }\n    warnDeprecated(name, function () {\n        if (name in options) {\n            globalThis.__DEV__ !== false && invariant.warn(104, callSite, name, recommendation);\n        }\n    });\n}\nexport function warnDeprecated(name, cb) {\n    if (!isMuted(name)) {\n        cb();\n    }\n}\nexport function withDisabledDeprecations() {\n    var _a;\n    var prev = global[muteAllDeprecations];\n    global[muteAllDeprecations] = true;\n    return _a = {},\n        _a[Symbol.dispose] = function () {\n            global[muteAllDeprecations] = prev;\n        },\n        _a;\n}\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from \"react\";\nimport { ApolloClient } from \"../../core/index.js\";\nimport { InMemoryCache as Cache } from \"../../cache/index.js\";\nimport { ApolloProvider } from \"../../react/context/index.js\";\nimport { MockLink } from \"../core/index.js\";\nimport { warnRemovedOption, muteDeprecations, } from \"../../utilities/deprecation/index.js\";\nvar MockedProvider = /** @class */ (function (_super) {\n    __extends(MockedProvider, _super);\n    function MockedProvider(props) {\n        var _this = _super.call(this, props) || this;\n        var _a = _this.props, mocks = _a.mocks, _b = _a.addTypename, addTypename = _b === void 0 ? true : _b, defaultOptions = _a.defaultOptions, cache = _a.cache, resolvers = _a.resolvers, link = _a.link, showWarnings = _a.showWarnings, devtools = _a.devtools, _c = _a.connectToDevTools, connectToDevTools = _c === void 0 ? false : _c;\n        if (globalThis.__DEV__ !== false) {\n            warnRemovedOption(_this.props, \"connectToDevTools\", \"MockedProvider\", \"Please use `devtools.enabled` instead.\");\n            warnRemovedOption(_this.props, \"addTypename\", \"MockedProvider\", \"Please remove the `addTypename` prop. For best results, ensure the provided `mocks` include a `__typename` property on all mock objects to ensure the cache more closely behaves like production.\");\n        }\n        var client = muteDeprecations([\"connectToDevTools\", \"addTypename\"], function () {\n            return new ApolloClient({\n                cache: cache || new Cache({ addTypename: addTypename }),\n                defaultOptions: defaultOptions,\n                devtools: devtools !== null && devtools !== void 0 ? devtools : {\n                    enabled: connectToDevTools,\n                },\n                link: link || new MockLink(mocks || [], addTypename, { showWarnings: showWarnings }),\n                resolvers: resolvers,\n            });\n        });\n        _this.state = {\n            client: client,\n        };\n        return _this;\n    }\n    MockedProvider.prototype.render = function () {\n        var _a = this.props, children = _a.children, childProps = _a.childProps;\n        var client = this.state.client;\n        return React.isValidElement(children) ?\n            React.createElement(ApolloProvider, { client: client }, React.cloneElement(React.Children.only(children), __assign({}, childProps)))\n            : null;\n    };\n    MockedProvider.prototype.componentWillUnmount = function () {\n        // Since this.state.client was created in the constructor, it's this\n        // MockedProvider's responsibility to terminate it.\n        this.state.client.stop();\n    };\n    return MockedProvider;\n}(React.Component));\nexport { MockedProvider };\n//# sourceMappingURL=MockedProvider.js.map"],"names":["untypedGlobal","Slot","__spreadArray","invariant","__extends","cache","ApolloClient","Cache","MockLink","React","ApolloProvider","__assign"],"mappings":"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"}