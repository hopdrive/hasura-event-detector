{"version":3,"file":"graphql.js","sourceRoot":"","sources":["../../../src/react/hoc/graphql.tsx"],"names":[],"mappings":"AAGA,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,oBAAoB,CAAC;AAC1D,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAE,YAAY,EAAE,MAAM,mBAAmB,CAAC;AACjD,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAC;AAGzD,OAAO,EAAE,SAAS,EAAE,MAAM,kCAAkC,CAAC;AAC7D,OAAO,EACL,gBAAgB,EAChB,cAAc,GACf,MAAM,sCAAsC,CAAC;AAE9C;;;;GAIG;AACH,MAAM,UAAU,OAAO,CAOrB,QAAsB,EACtB,gBAKM;IALN,iCAAA,EAAA,qBAKM;IAIN,IAAI,OAAO,EAAE,CAAC;QACZ,cAAc,CAAC,SAAS,EAAE;YACxB,SAAS,CAAC,IAAI,CACZ,2MAA2M,CAC5M,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,gBAAgB,CAAC,QAAQ,EAAE,cAAM,OAAA,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAArB,CAAqB,CAAC,EAAE,CAAC;QAChE,KAAK,YAAY,CAAC,QAAQ;YACxB,OAAO,gBAAgB,CAAC,cAAc,EAAE;gBACtC,OAAA,YAAY,CAAC,QAAQ,EAAE,gBAAgB,CAAC;YAAxC,CAAwC,CACzC,CAAC;QACJ,KAAK,YAAY,CAAC,YAAY;YAC5B,OAAO,gBAAgB,CAAC,kBAAkB,EAAE;gBAC1C,OAAA,gBAAgB,CAAC,QAAQ,EAAE,gBAAgB,CAAC;YAA5C,CAA4C,CAC7C,CAAC;QACJ,KAAK,YAAY,CAAC,KAAK,CAAC;QACxB;YACE,OAAO,gBAAgB,CAAC,WAAW,EAAE;gBACnC,OAAA,SAAS,CAAC,QAAQ,EAAE,gBAAgB,CAAC;YAArC,CAAqC,CACtC,CAAC;IACN,CAAC;AACH,CAAC","sourcesContent":["import type { DocumentNode } from \"graphql\";\nimport type * as ReactTypes from \"react\";\n\nimport { parser, DocumentType } from \"../parser/index.js\";\nimport { withQuery } from \"./query-hoc.js\";\nimport { withMutation } from \"./mutation-hoc.js\";\nimport { withSubscription } from \"./subscription-hoc.js\";\nimport type { OperationOption, DataProps, MutateProps } from \"./types.js\";\nimport type { OperationVariables } from \"../../core/index.js\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport {\n  muteDeprecations,\n  warnDeprecated,\n} from \"../../utilities/deprecation/index.js\";\n\n/**\n * @deprecated\n * Official support for React Apollo higher order components ended in March 2020.\n * This library is still included in the `@apollo/client` package, but it no longer receives feature updates or bug fixes.\n */\nexport function graphql<\n  TProps extends TGraphQLVariables | {} = {},\n  TData extends object = {},\n  TGraphQLVariables extends OperationVariables = {},\n  TChildProps extends object = Partial<DataProps<TData, TGraphQLVariables>> &\n    Partial<MutateProps<TData, TGraphQLVariables>>,\n>(\n  document: DocumentNode,\n  operationOptions: OperationOption<\n    TProps,\n    TData,\n    TGraphQLVariables,\n    TChildProps\n  > = {}\n): (\n  WrappedComponent: ReactTypes.ComponentType<TProps & TChildProps>\n) => ReactTypes.ComponentClass<TProps> {\n  if (__DEV__) {\n    warnDeprecated(\"graphql\", () => {\n      invariant.warn(\n        \"[graphql]: The `graphql` higher order component is deprecated and will be removed in Apollo Client 4.0. Please switch to an available React hook such as `useQuery`, `useMutation`, or `useSubscription`.\"\n      );\n    });\n  }\n\n  switch (muteDeprecations(\"parser\", () => parser(document).type)) {\n    case DocumentType.Mutation:\n      return muteDeprecations(\"withMutation\", () =>\n        withMutation(document, operationOptions)\n      );\n    case DocumentType.Subscription:\n      return muteDeprecations(\"withSubscription\", () =>\n        withSubscription(document, operationOptions)\n      );\n    case DocumentType.Query:\n    default:\n      return muteDeprecations(\"withQuery\", () =>\n        withQuery(document, operationOptions)\n      );\n  }\n}\n"]}